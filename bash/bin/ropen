#!/usr/bin/env bash
set -e
[[ $# -eq 0 ]] && echo "No file provided" && exit 1

HOST="mac"
LOCAL_FILE="$1"
REMOTE_FILE="/tmp/$(basename "${LOCAL_FILE}")"

[[ ! -f "${LOCAL_FILE}" ]] && echo "File '$1' not found" && exit 1

scp "${LOCAL_FILE}" "${HOST}:\"${REMOTE_FILE}\"" &> /dev/null
ssh ${HOST} -- open "\"${REMOTE_FILE}\"" 2> /dev/null
